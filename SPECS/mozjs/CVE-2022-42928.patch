From 52928ba6fd91414091326fe6339bc63e89b593a6 Thu 06 Oct 2022 18:22:12 +0000
From: Andr√© Bargull <andre.bargull@gmail.com>
Date: Thu, 06 Oct 2022 18:22:12 +0000
Subject: Bug 1791520: Add some keep alive annotations. r=jandem a=pascalc

---

diff --color -Naur a/js/src/jit/IonAnalysis.cpp b/js/src/jit/IonAnalysis.cpp
--- a/js/src/jit/IonAnalysis.cpp	2020-09-30 21:31:15
+++ b/js/src/jit/IonAnalysis.cpp	2023-08-31 14:00:27
@@ -3819,6 +3819,10 @@
     return true;
   }
 
+  if (use->type() == MIRType::BigInt) {
+    return true;
+  }
+
   MBasicBlock* block = use->block();
   MInstructionIterator iter(block->begin(slotsOrElements));
   MOZ_ASSERT(*iter == slotsOrElements);
